---
layout: post
title: 如何搭建 Jekyll 个人博客网站
date: 2021-01-06 13:00:00
author: 薛师兄
tags: Jekyll
---

1、购买一台Centos系统的服务器

推荐使用腾讯云，网速快，性能稳定，客服处理问题及时，现在点这条链接就可以享受2折优惠：<https://curl.qcloud.com/zjig4QkV>

2、安装Git

```shell
yum -y install git
```

3、必须保证Ruby2.7版本以上

方法：

1. 升级yum
2. 手动下载ruby最新版，本地安装

```shell
# 升级yum：
Centos 5.X：
    rpm -Uvh http://mirror.webtatic.com/yum/el5/latest.rpm
CentOs 6.x：
    rpm -Uvh http://mirror.webtatic.com/yum/el6/latest.rpm
CentOs 7.X：
    rpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpm
    rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
```

4、安装Ruby

```shell
# 方式1：yum安装
yum -y install ruby
# 方式2：下载编译
./configure
make
sudo make install
```

安装完之后修改gem的源为国内，不然很慢

```shell
gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/
```

4、安装Jekyll

```shell
gem install jekyll -v 4.1.1
```

3、新建博客

```shell
jekyll new myblog
cd myblog
```

4、启动博客

```shell
jekyll serve
```

5、克隆已有博客

如果不想自己再搭建一套博客，推荐克隆别人做好的博客，修改使用。

比如我比较喜欢的简洁风

```shell
git clone https://github.com/yous/whiteglass.git
```

6、clone 到本地后需要安装gem依赖，进入Gemfile文件所在目录，Gemfile文件列好了所需要的gem依赖，你需要的就是执行它。但是有些Gemfile内规定了Jekyll的版本号，如果你本地安装了其它版本的Jekyll，可能会产生冲突。解决方法一是卸载Jekyll，二是注释掉Gemfile文件内安装Jekyll的那一行代码。

```shell
# 运行Gemfile
bundle install

# Gemfile文件一般包含如下依赖
gem install jekyll-paginate -v 1.1
gem install jekyll-sitemap -v 1.0
gem install jekyll-archives -v 2.1
grm install jekyll-feed -v 0.12
```

7、服务器后台启动

本地启动不需要这么多参数

```shell
# 运行在后台
jekyll serve --host 0.0.0.0  --port 80 --detach
```

### FAQ

如果你克隆的项目下有 Gemfile.lock 文件记得删除。