---
title: Java之文本文件的创建和读取（含IO流操作）
date: 2018-02-06 22:47:00
---
###### 工具类：对文件的读取，创建。直接复制拿来用！





```
<span class="hljs-keyword">package cn.zyzpp.util;

<span class="hljs-keyword">import java.io.BufferedReader;
<span class="hljs-keyword">import java.io.BufferedWriter;
<span class="hljs-keyword">import java.io.File;
<span class="hljs-keyword">import java.io.FileInputStream;
<span class="hljs-keyword">import java.io.FileWriter;
<span class="hljs-keyword">import java.io.IOException;
<span class="hljs-keyword">import java.io.InputStreamReader;

<span class="hljs-keyword">public <span class="hljs-class"><span class="hljs-keyword">class <span class="hljs-title">TxtUtil {
    <span class="hljs-comment">/**
     *  读取文件
     * <span class="hljs-doctag">@param path
     * <span class="hljs-doctag">@return 文件的字符串内容
     */
    <span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">static String <span class="hljs-title">test<span class="hljs-params">(String path) {
        <span class="hljs-keyword">try {
            String pathname = path;
            <span class="hljs-comment">// File对象
            File filename = <span class="hljs-keyword">new File(pathname);
            <span class="hljs-comment">// 文件字节输入流对象
            FileInputStream fileInputStream = <span class="hljs-keyword">new FileInputStream(filename);
            <span class="hljs-comment">// 字节转字符输入流对象 InputStreamReader：字节流到字符流的桥梁
            InputStreamReader reader = <span class="hljs-keyword">new InputStreamReader(fileInputStream, <span class="hljs-string">"utf-8");
            <span class="hljs-comment">// BufferedReader(字符缓冲输入流)，提供通用的缓冲方式文本读取
            BufferedReader br = <span class="hljs-keyword">new BufferedReader(reader);
            <span class="hljs-comment">// 多线程StringBuffer 单线程StringBuilder
            StringBuffer txt = <span class="hljs-keyword">new StringBuffer();
            String line = <span class="hljs-string">"";
            <span class="hljs-keyword">while ((line = br.readLine()) != <span class="hljs-keyword">null) {
                txt.append(line);
            }
            <span class="hljs-comment">// 方法一：流的关闭：先打开的后关闭，后打开的先关闭
            <span class="hljs-comment">// 方法二：可以只调用外层流的close方法关闭其装饰的内层流
            br.close();
            <span class="hljs-keyword">return txt.toString();
        } <span class="hljs-keyword">catch (Exception e) {
            <span class="hljs-comment">// e.printStackTrace();
            <span class="hljs-keyword">return <span class="hljs-keyword">null;
        }
    }
    
    <span class="hljs-comment">/**
     * 写入Txt
     * <span class="hljs-doctag">@param path
     * <span class="hljs-doctag">@param txt
     * <span class="hljs-doctag">@throws IOException
     */
    <span class="hljs-function"><span class="hljs-keyword">public <span class="hljs-keyword">static <span class="hljs-keyword">boolean <span class="hljs-title">writeFile<span class="hljs-params">(String path, String txt) {
        <span class="hljs-comment">// 相对路径，如果没有则要建立一个新的path文件
        File file = <span class="hljs-keyword">new File(path);
        <span class="hljs-keyword">try {
            <span class="hljs-comment">// 创建新文件
            file.createNewFile();
            <span class="hljs-comment">// 字符缓冲输出流：写东西到该文件
            BufferedWriter out = <span class="hljs-keyword">new BufferedWriter(<span class="hljs-keyword">new FileWriter(file));
            <span class="hljs-comment">// 写东西：\r\n即为换行
            out.write(txt);
            <span class="hljs-comment">// 把缓存区内容压入文件
            out.flush();
            <span class="hljs-comment">// 最后关闭流
            out.close();
            <span class="hljs-comment">//返回成功
            <span class="hljs-keyword">return <span class="hljs-keyword">true;
        } <span class="hljs-keyword">catch (IOException e) {
            <span class="hljs-comment">//e.printStackTrace();
            <span class="hljs-comment">//返回失败
            <span class="hljs-keyword">return <span class="hljs-keyword">false;
        }
    }

}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
```